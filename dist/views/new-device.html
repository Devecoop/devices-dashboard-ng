<div class="new-view">
  <h1 class="title">Create Device</h1>

  <hr/>

  <div ng-show="authorized">
    <form class="compact" name="form">
      <div class="device-type control-group" ng-class="{error: form.type.$invalid}">
        <small class="help-inline muted"><span class="badge">1</span>Select the desired type <a href="//t.lelylan.com/">(learn what a type is)</a></small>
        <div class="input-prepend">
          <span class="add-on">Type</span>
          <input class="input-xxlarge" type="hidden" name="type" ng-model="device.type.id" placeholder="Type ID" required>
          <input class="input-xxlarge" type="text" ng-model="device.type.name" placeholder="Type Name" required ng-show="!select" ng-mouseenter="select=true">
          <a href="/types" ng-show="select" ng-mouseleave="toggle()">
            <input class="input-xxlarge selector" type="text" value="Click to select a type" required disabled>
          </a>
        </div>
      </div>
      <div class="device-name control-group" ng-class="{error: form.name.$invalid}">
        <small class="help-inline muted"><span class="badge">2</span>Set a meaningful name for the new device</small>
        <div class="input-prepend">
          <span class="add-on">Name</span>
          <input class="input-xxlarge" type="text" name="name" ng-model="device.name" placeholder="Bedroom Light" required>
        </div>
      </div>
      <div class="device-physical control-group" ng-class="{error: form.physical.uri.$invalid}">
        <small class="help-inline muted"><span class="badge">3</span>Connect the physical device URI <a href="//dev.lelylan.com/api/physicals">(learn how to create one)</a>  or leave it empty to simulate one</small>
        <div class="input-prepend">
          <span class="add-on">Physical</span>
          <input class="input-xxlarge" type="url" name="physical" ng-model="device.physical.uri" placeholder="Physical Device URI (optional)">
        </div>
        <small class="help-inline validation" ng-show="form.physical.uri.$error.url">Not a URL</small>
      </div>
      <br/>
      <button class="create btn btn-lelylan lelylan-big" ng-click="create()" ng-disabled="form.$invalid || disabled">Create</button>
      <button class="reset btn lelylan-big" ng-click="reset()" ng-disabled="!device.name && !device.type && !device.physical">Clear</button>
    </form>
  </div>

  <!-- Authorization needed message -->

  <div class="authorization alert alert-block" ng-show="!authorized">
    <p class="lead">To create a Device you first need to <strong>Sign In</strong>.</p>
  </div>
</div>
